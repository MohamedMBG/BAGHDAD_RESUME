<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BAGHDAD Mohamed - Portfolio</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <div class="container">
            <div class="hero-content animate__animated animate__fadeInDown">
                <img src="https://media.licdn.com/dms/image/v2/D4E22AQFaBklEQPMF0A/feedshare-shrink_2048_1536/B4EZcDlMdcGQAs-/0/1748111772034?e=1756944000&v=beta&t=qdCxwfy_WEj1F9xrZNhmiTVIVGuk4OJZF1_7RQHgulA" alt="BAGHDAD Mohamed" class="profile-img">
                <h1>BAGHDAD Mohamed</h1>
                <p class="subtitle">Android & Web Developer</p>
                <p class="hero-description">Professional developer with 2+ years of experience creating innovative mobile applications and modern websites. Passionate about clean code and user-centered design.</p>
            </div>
        </div>
    </header>

    <nav>
        <div class="container">
            <div class="nav-container">
                <a href="#about" class="nav-item">About</a>
                <a href="#education" class="nav-item">Education</a>
                <a href="#experience" class="nav-item">Experience</a>
                <a href="#skills" class="nav-item">Skills</a>
                <a href="#projects" class="nav-item">Projects</a>
                <a href="#contact" class="nav-item">Contact</a>
            </div>
        </div>
    </nav>

    <!-- About Section -->
    <section id="about" class="section">
        <div class="container">
            <h2 class="section-title">About Me</h2>
            <div class="about-grid">
                <div class="about-text">
                    <p>I'm a passionate developer with expertise in both mobile and web development. My journey in software engineering has been driven by curiosity and a desire to create meaningful digital experiences.</p>
                    <p>With a strong foundation in Android development and modern web technologies, I focus on building applications that not only function flawlessly but also provide exceptional user experiences.</p>
                    <p>Currently pursuing my engineering degree while continuously expanding my skill set through practical projects and industry best practices.</p>
                </div>
                <div class="stats">
                    <div class="stat-item">
                        <span class="stat-number">2+</span>
                        <span class="stat-label">Years Experience</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number">15+</span>
                        <span class="stat-label">Projects Completed</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number">5+</span>
                        <span class="stat-label">Technologies</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number">100%</span>
                        <span class="stat-label">Client Satisfaction</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Education Section -->
    <section id="education" class="section">
        <div class="container">
            <h2 class="section-title">Education</h2>
            <div class="timeline" id="education-list">
                <!-- Education items will be loaded here via JavaScript -->
            </div>
        </div>
    </section>

    <!-- Experience Section -->
    <section id="experience" class="section">
        <div class="container">
            <h2 class="section-title">Experience</h2>
            <div class="timeline" id="experience-list">
                <!-- Experience items will be loaded here via JavaScript -->
            </div>
        </div>
    </section>

    <!-- Skills Section -->
    <section id="skills" class="section">
        <div class="container">
            <h2 class="section-title">Skills</h2>
            <div class="skills-grid" id="skills-grid">
                <!-- Skills will be loaded here via JavaScript -->
            </div>
        </div>
    </section>

    <!-- Enhanced Projects Section -->
    <section id="projects" class="section projects-section">
        <div class="container">
            <h2 class="section-title">Featured Projects</h2>
            <p class="section-subtitle">Explore my latest work in mobile and web development, showcasing innovative solutions and modern design principles.</p>
            
            <!-- Filter Buttons -->
            <div class="filter-container">
                <button class="filter-btn active" data-filter="all">All Projects</button>
                <button class="filter-btn" data-filter="mobile">Mobile Apps</button>
                <button class="filter-btn" data-filter="web">Web Development</button>
                <button class="filter-btn" data-filter="featured">Featured</button>
            </div>

            <div class="projects-grid" id="projects-grid">
                <!-- Projects will be loaded here via JavaScript -->
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="section">
        <div class="container">
            <h2 class="section-title">Get In Touch</h2>
            <div class="contact-content">
                <p>I'm always interested in new opportunities and collaborations. Whether you have a project in mind or just want to connect, feel free to reach out!</p>
                <div class="contact-info">
                    <div class="contact-item">
                        <h3>Email</h3>
                        <a href="mailto:baghdadmohamed.me@gmail.com">baghdadmohamed.me@gmail.com</a>
                    </div>
                    <div class="contact-item">
                        <h3>LinkedIn</h3>
                        <a href="https://www.linkedin.com/in/mohamed-baghdad-4b3035239/" target="_blank">Mohamed Baghdad</a>
                    </div>
                    <div class="contact-item">
                        <h3>GitHub</h3>
                        <a href="https://github.com/MohamedMBG" target="_blank">github.com/MohamedMBG</a>
                    </div>
                    <div class="contact-item">
                        <h3>Phone</h3>
                        <a href="tel:+212623144441">+212 62314-4441</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Enhanced Project Modal -->
    <div id="projectModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <div class="modal-header">
                <h2 class="modal-title" id="modalTitle"></h2>
                <p class="modal-subtitle" id="modalSubtitle"></p>
            </div>
            <div class="modal-body">
                <p class="modal-description" id="modalDescription"></p>
                <div class="modal-images" id="modalImages"></div>
                <div class="modal-client" id="modalClient" style="display: none;">
                    <h4>Client Information</h4>
                    <p id="modalClientName"></p>
                </div>
                <div class="modal-tech-stack" id="modalTechStack">
                    <h4>Technologies Used</h4>
                    <div class="tech-tags" id="modalTechTags"></div>
                </div>
            </div>
        </div>
    </div>

    <button id="dark-mode-toggle" class="dark-mode-toggle">🌙 Dark Mode</button>

    <footer>
        <div class="container">
            <p>&copy; 2025 BAGHDAD Mohamed. All rights reserved.</p>
        </div>
    </footer>

    <script>
        // Smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Navbar scroll effect
        window.addEventListener('scroll', function () {
            const nav = document.querySelector('nav');
            if (window.scrollY > 100) {
                nav.style.background = 'rgba(255, 255, 255, 0.95)';
                nav.style.backdropFilter = 'blur(10px)';
            } else {
                nav.style.background = '#ffffff';
                nav.style.backdropFilter = 'none';
            }
        });

        // Dark mode toggle
        const toggleBtn = document.getElementById('dark-mode-toggle');
        toggleBtn.addEventListener('click', function () {
            document.body.classList.toggle('dark');
            toggleBtn.textContent = document.body.classList.contains('dark') ? '☀️ Light Mode' : '🌙 Dark Mode';
        });

        // Enhanced Project functionality
        let allProjects = [];
        const modal = document.getElementById('projectModal');
        const closeBtn = document.querySelector('.close');

        // Project filter functionality
        function initializeFilters() {
            const filterBtns = document.querySelectorAll('.filter-btn');
            const projectCards = document.querySelectorAll('.project-card');

            filterBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    // Remove active class from all buttons
                    filterBtns.forEach(b => b.classList.remove('active'));
                    // Add active class to clicked button
                    btn.classList.add('active');
                    
                    const filter = btn.getAttribute('data-filter');
                    
                    projectCards.forEach(card => {
                        const categories = card.getAttribute('data-category') || '';
                        
                        if (filter === 'all' || categories.includes(filter)) {
                            card.style.display = 'block';
                            card.classList.add('animate__animated', 'animate__fadeInUp');
                        } else {
                            card.style.display = 'none';
                        }
                    });
                });
            });
        }

        // Enhanced modal functionality
        function openProjectModal(project) {
            document.getElementById('modalTitle').textContent = project.title;
            document.getElementById('modalSubtitle').textContent = project.client ? `Client: ${project.client}` : 'Personal Project';
            document.getElementById('modalDescription').textContent = project.description;
            
            // Clear and populate images
            const modalImages = document.getElementById('modalImages');
            modalImages.innerHTML = '';
            
            if (project.images && project.images.length > 0) {
                project.images.forEach((imageSrc, index) => {
                    const imageDiv = document.createElement('div');
                    imageDiv.className = 'modal-image';
                    
                    // Create image element with proper loading and error handling
                    const img = document.createElement('img');
                    img.src = imageSrc;
                    img.alt = `${project.title} - Image ${index + 1}`;
                    img.loading = 'lazy';
                    img.style.cursor = 'pointer';
                    
                    // Add click event to view full size image
                    img.addEventListener('click', () => {
                        openFullscreenImage(imageSrc, `${project.title} - Image ${index + 1}`);
                    });
                    
                    // Handle image load error
                    img.addEventListener('error', () => {
                        imageDiv.innerHTML = `
                            <div class="image-error">
                                <span class="error-icon">🖼️</span>
                                <p>Image not available</p>
                            </div>
                        `;
                    });
                    
                    imageDiv.appendChild(img);
                    modalImages.appendChild(imageDiv);
                });
                
                // Add image counter
                const imageCounter = document.createElement('div');
                imageCounter.className = 'image-counter';
                imageCounter.innerHTML = `<span>${project.images.length} image${project.images.length > 1 ? 's' : ''}</span>`;
                modalImages.appendChild(imageCounter);
                
            } else {
                modalImages.innerHTML = '<p class="no-images">No images available for this project.</p>';
            }
            
            // Show/hide client info
            const modalClient = document.getElementById('modalClient');
            const modalClientName = document.getElementById('modalClientName');
            if (project.client && project.client.trim() !== '') {
                modalClientName.textContent = project.client;
                modalClient.style.display = 'block';
            } else {
                modalClient.style.display = 'none';
            }
            
            // Add tech stack
            const modalTechTags = document.getElementById('modalTechTags');
            const techStack = getTechStackForProject(project.title);
            modalTechTags.innerHTML = techStack.map(tech => `<span class="tech-tag">${tech}</span>`).join('');
            
            modal.style.display = 'block';
            document.body.style.overflow = 'hidden';
        }

        // Fullscreen image viewer
        function openFullscreenImage(imageSrc, altText) {
            // Create fullscreen overlay
            const fullscreenOverlay = document.createElement('div');
            fullscreenOverlay.className = 'fullscreen-image-overlay';
            fullscreenOverlay.innerHTML = `
                <div class="fullscreen-image-container">
                    <img src="${imageSrc}" alt="${altText}" class="fullscreen-image">
                    <button class="fullscreen-close">&times;</button>
                    <div class="fullscreen-caption">${altText}</div>
                </div>
            `;
            
            document.body.appendChild(fullscreenOverlay);
            
            // Close fullscreen on click outside image or close button
            fullscreenOverlay.addEventListener('click', (e) => {
                if (e.target === fullscreenOverlay || e.target.classList.contains('fullscreen-close')) {
                    document.body.removeChild(fullscreenOverlay);
                }
            });
            
            // Close with Escape key
            const escapeHandler = (e) => {
                if (e.key === 'Escape') {
                    if (document.body.contains(fullscreenOverlay)) {
                        document.body.removeChild(fullscreenOverlay);
                    }
                    document.removeEventListener('keydown', escapeHandler);
                }
            };
            document.addEventListener('keydown', escapeHandler);
        }

        function closeProjectModal() {
            modal.style.display = 'none';
            document.body.style.overflow = 'auto';
        }

        // Get tech stack based on project title (demo function)
        function getTechStackForProject(title) {
            const techStacks = {
                'E-Commerce Android App': ['Android Studio', 'Java', 'Kotlin', 'Firebase', 'SQLite'],
                'Business Website Portfolio': ['HTML5', 'CSS3', 'JavaScript', 'React', 'Node.js'],
                'Task Management System': ['React', 'Node.js', 'MongoDB', 'Socket.io', 'Express'],
                'B&B car renting': ['Android', 'Java', 'Firebase', 'Google Maps API', 'Payment Gateway']
            };
            return techStacks[title] || ['JavaScript', 'HTML', 'CSS'];
        }

        // Determine project category based on title and description
        function getProjectCategory(project) {
            const title = project.title.toLowerCase();
            const description = project.description.toLowerCase();
            
            let categories = [];
            
            if (title.includes('android') || title.includes('mobile') || title.includes('app')) {
                categories.push('mobile');
            }
            
            if (title.includes('website') || title.includes('web') || description.includes('website') || description.includes('web')) {
                categories.push('web');
            }
            
            // Mark first project as featured
            if (allProjects.indexOf(project) === 0 || project.client === 'B&B car renting') {
                categories.push('featured');
            }
            
            return categories.join(' ');
        }

        // Close modal events
        closeBtn.addEventListener('click', closeProjectModal);
        
        modal.addEventListener('click', function(e) {
            if (e.target === modal) {
                closeProjectModal();
            }
        });

        // Close modal with Escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && modal.style.display === 'block') {
                closeProjectModal();
            }
        });

        // Intersection observer for animations
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver(function (entries) {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('animate__fadeInUp');
                    entry.target.style.opacity = '1';
                }
            });
        }, observerOptions);

        // Load data and populate sections
        fetch('/data')
            .then(response => {
                if (!response.ok) {
                    throw new Error('Network response was not ok');
                }
                return response.json();
            })
            .then(data => {
                console.log('Data loaded:', data);
                allProjects = data.works || [];

                // Populate Skills
                const skillsGrid = document.getElementById('skills-grid');
                if (data.skills && Object.keys(data.skills).length > 0) {
                    Object.entries(data.skills).forEach(([category, tags]) => {
                        const skillCategory = document.createElement('div');
                        skillCategory.className = 'skill-category';
                        skillCategory.innerHTML = `
                            <h3>${category}</h3>
                            <div class="skill-tags">
                                ${tags.map(tag => `<span class="skill-tag">${tag}</span>`).join('')}
                            </div>
                        `;
                        skillsGrid.appendChild(skillCategory);
                    });
                } else {
                    skillsGrid.innerHTML = '<p>No skills data available. Please add some skills through the admin panel.</p>';
                }

                // Populate Education
                const eduList = document.getElementById('education-list');
                if (data.education && data.education.length > 0) {
                    data.education.forEach(item => {
                        const eduItem = document.createElement('div');
                        eduItem.className = 'timeline-item';
                        eduItem.innerHTML = `
                            <div class="timeline-content">
                                <div class="timeline-date">${item.date}</div>
                                <div class="timeline-title">${item.title}</div>
                                <div class="timeline-subtitle">${item.subtitle}</div>
                                <p>${item.description}</p>
                            </div>
                        `;
                        eduList.appendChild(eduItem);
                    });
                } else {
                    eduList.innerHTML = '<p>No education data available. Please add some education through the admin panel.</p>';
                }

                // Populate Experience
                const expList = document.getElementById('experience-list');
                if (data.experience && data.experience.length > 0) {
                    data.experience.forEach(item => {
                        const expItem = document.createElement('div');
                        expItem.className = 'timeline-item';
                        expItem.innerHTML = `
                            <div class="timeline-content">
                                <div class="timeline-date">${item.date}</div>
                                <div class="timeline-title">${item.title}</div>
                                <div class="timeline-subtitle">${item.subtitle}</div>
                                <p>${item.description}</p>
                            </div>
                        `;
                        expList.appendChild(expItem);
                    });
                } else {
                    expList.innerHTML = '<p>No experience data available. Please add some experience through the admin panel.</p>';
                }

                // Populate Enhanced Projects
                const projGrid = document.getElementById('projects-grid');
                if (data.works && data.works.length > 0) {
                    data.works.forEach((work, index) => {
                        const categories = getProjectCategory(work);
                        const isFeature = categories.includes('featured');
                        
                        const projectCard = document.createElement('div');
                        projectCard.className = `project-card ${isFeature ? 'featured' : ''}`;
                        projectCard.setAttribute('data-category', categories);
                        projectCard.setAttribute('data-project-index', index);
                        
                        const imgSrc = (work.images && work.images.length > 0) ? work.images[0] : null;
                        const imageHtml = imgSrc ? 
                            `<img src="${imgSrc}" alt="${work.title}" loading="lazy">` : 
                            `<div class="project-placeholder">📱</div>`;
                        
                        const clientBadge = work.client && work.client.trim() !== '' ? 
                            `<span class="project-client">${work.client}</span>` : 
                            `<span class="project-client">Personal</span>`;

                        const projectIcon = categories.includes('mobile') ? '📱' : 
                                          categories.includes('web') ? '🌐' : '💻';
                        
                        if (isFeature) {
                            projectCard.innerHTML = `
                                <div class="project-image">
                                    ${imageHtml}
                                    <div class="project-overlay">
                                        <div class="overlay-content">
                                            <span class="overlay-icon">${projectIcon}</span>
                                            <span class="overlay-text">View Details</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="project-content">
                                    <div class="project-header">
                                        <div>
                                            <h3 class="project-title">${work.title}</h3>
                                        </div>
                                        ${clientBadge}
                                    </div>
                                    <p class="project-description">${work.description}</p>
                                    <div class="project-meta">
                                        <div class="project-stats">
                                            <div class="stat-item">
                                                <span class="stat-icon">${projectIcon}</span>
                                                <span>${categories.includes('mobile') ? 'Mobile App' : 'Web App'}</span>
                                            </div>
                                            <div class="stat-item">
                                                <span class="stat-icon">🏆</span>
                                                <span>Featured</span>
                                            </div>
                                        </div>
                                        <div class="project-links">
                                            <a href="#" class="project-link" title="View Project">👁️</a>
                                            <a href="#" class="project-link" title="Learn More">📖</a>
                                        </div>
                                    </div>
                                </div>
                            `;
                        } else {
                            projectCard.innerHTML = `
                                <div class="project-image">
                                    ${imageHtml}
                                    <div class="project-overlay">
                                        <div class="overlay-content">
                                            <span class="overlay-icon">${projectIcon}</span>
                                            <span class="overlay-text">View Details</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="project-content">
                                    <div class="project-header">
                                        <div>
                                            <h3 class="project-title">${work.title}</h3>
                                        </div>
                                        ${clientBadge}
                                    </div>
                                    <p class="project-description">${work.description}</p>
                                    <div class="project-meta">
                                        <div class="project-stats">
                                            <div class="stat-item">
                                                <span class="stat-icon">${projectIcon}</span>
                                                <span>${categories.includes('mobile') ? 'Mobile' : 'Web'}</span>
                                            </div>
                                            <div class="stat-item">
                                                <span class="stat-icon">🖼️</span>
                                                <span>${work.images ? work.images.length : 0} images</span>
                                            </div>
                                        </div>
                                        <div class="project-links">
                                            <a href="#" class="project-link" title="View Project">👁️</a>
                                            <a href="#" class="project-link" title="Source Code">💻</a>
                                        </div>
                                    </div>
                                </div>
                            `;
                        }
                        
                        // Add click event to open modal (but not on links)
                        projectCard.addEventListener('click', (e) => {
                            if (e.target.closest('.project-link')) return;
                            openProjectModal(work);
                        });
                        
                        projGrid.appendChild(projectCard);
                    });

                    // Initialize filters after projects are loaded
                    initializeFilters();
                } else {
                    projGrid.innerHTML = '<p>No projects available. Please add some projects through the admin panel.</p>';
                }

                // Observe elements for animations
                document.querySelectorAll('.timeline-item, .project-card, .skill-category').forEach(el => {
                    el.style.opacity = '0';
                    el.classList.add('animate__animated');
                    observer.observe(el);
                });
            })
            .catch(error => {
                console.error('Error loading data:', error);
                // Show error messages in each section
                document.getElementById('skills-grid').innerHTML = '<p>Error loading skills data.</p>';
                document.getElementById('education-list').innerHTML = '<p>Error loading education data.</p>';
                document.getElementById('experience-list').innerHTML = '<p>Error loading experience data.</p>';
                document.getElementById('projects-grid').innerHTML = '<p>Error loading projects data.</p>';
            });
    </script>
</body>
</html>